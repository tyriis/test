---
    name: Version

    on:
      workflow_dispatch:
        inputs:
          message:
            description: Commit message
            required: true
            type: string
          tag:
            description: tag
            required: false
            type: string

    jobs:
      version:
        name: version
        runs-on: ubuntu-latest
        steps:
          # https://github.com/marketplace/actions/github-app-token
        #   - name: Generate Token
        #     uses: tibdex/github-app-token@v1.8.0
        #     id: generate-token
        #     with:
        #       app_id: "${{ secrets.BOT_APP_ID }}"
        #       private_key: "${{ secrets.BOT_APP_PRIVATE_KEY }}"

          # https://github.com/marketplace/actions/checkout
          - name: Checkout
            uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1

          - name: npm version patch
            run: |
              npm --no-git-tag-version version patch

          - name: git add files
            run: |
              git add package.json package-lock.json

          - name: git status
            run: |
              git status --short

          - name: commit
            uses: tyriis/multi-file-commit@b52ce9e1600e5fa0f42b33a69385fdc85cc37eec # v0.3.13
            with:
              # The commit message for the commit.
              message: ${{ inputs.message }}
              tag: ${{ inputs.tag }}
