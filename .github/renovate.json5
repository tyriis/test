{
  enabled: true,
  extends: [
    "github>techtales-io/renovate-config:base.json5",
    "github>techtales-io/renovate-config//dependencies/minecraft.json5",
    "github>tyriis/renovate-config//generic-regex-manager.json5", //  TODO: reconfigure
    // "github>tyriis/test//.github/minecraft-luckperms.json5",
  ],
  "pinDigests": true,
  ignorePaths: [
  ],
  includePaths: [
    // "terraform/images.yaml",
    "kubernetes/apps/gaming/minecraft-java/**",
  ],
  rebaseWhen: "conflicted",
  ansible: {
    enabled: false,
  },
  vulnerabilityAlerts: {
    enabled: false,
  },
  packageRules: [
    {
      matchDatasources: ["custom.luckperms-bukkit", "custom.luckperms-velocity"],
      semanticCommitScope: "minecraft",
      commitMessageTopic: "plugin {{depName}}",
    },
  ],
  customManagers: [
    {
      customType: "regex",
      fileMatch: ["^kubernetes/.+\\.ya?ml$"],
      matchStrings: [
        "https://api\\.papermc\\.io/v2/projects/paper/versions/(?<currentValue>[\\d.]+)/builds/(?<currentDigest>\\d+)/downloads/paper-[\\d.]+-\\d+.jar"
      ],
      datasourceTemplate: "custom.papermc",
      depNameTemplate: "papermc",
      // extractVersionTemplate: "^(?<version>\\d+\\.\\d+\\.\\d+)$",
      autoReplaceStringTemplate: "https://api.papermc.io/v2/projects/paper/versions/{{{currentVersion}}}/builds/{{{newDigest}}}/downloads/paper-{{{currentVersion}}}-{{{newDigest}}}.jar"
    },
  ],

  customDatasources: {
    "papermc": {
      defaultRegistryUrlTemplate: "https://api.papermc.io/v2/projects/paper/versions/{{currentValue}}/builds",
      format: "json",
      transformTemplates: [
        '{ "releases": [ { "version": $join([version, "-", $string(builds[-1].build)]), "digest": $string(builds[-1].build), "releaseTimestamp": builds[-1].time } ], "sourceUrl": $join(["https://api.papermc.io/v2/projects/paper/versions/", version, "/builds/", $string(builds[-1].build), "/downloads/", builds[-1].downloads.application.name]), "homepage": "https://papermc.io" }'
      ]
    }
  },
  jenkins: {
    enabled: false,
  },
}
